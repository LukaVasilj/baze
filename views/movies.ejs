<!-- movies.ejs -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CinemaDB</title>
    <style>
        body {
          font-family: Arial, sans-serif;
          background-color: #f8f8f8;
          margin: 0;
          padding: 0;
        }
  
        h1 {
          color: #333;
          margin-bottom: 20px;
        }
  
        h2 {
          color: #333;
          margin-bottom: 10px;
        }
  
        table {
          margin-left: 50px;
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 20px;
        }
  
        th, td {
          padding: 8px;
          text-align: left;
          border-bottom: 1px solid #ddd;
        }
  
        th {
          background-color: #f2f2f2;
        }
  
        form {
          margin-bottom: 20px;
        }
  
        input[type="number"],
        input[type="text"] {
          padding: 10px;
          border-radius: 4px;
          border: 1px solid #ccc;
          margin-bottom: 10px;
        }
  
        button {
          padding: 10px 20px;
          border-radius: 4px;
          border: none;
          background-color: #4caf50;
          color: white;
          cursor: pointer;
        }
  
        button:hover {
          background-color: #45a049;
        }
  
        #message {
          color: #4caf50;
          font-weight: bold;
          margin-bottom: 10px;
        }
        div{
          margin-left: 50px;
        }
        form{
          margin-left: 50px;
        }
        h1{
          margin-left: 50px;
        }
        h2{
          margin-left: 50px;
        }
      </style>
  </head>

  <body>
    <nav>
      <ul>
        <li><a href="/">Theaters</a></li>
        <li><a href="/showtimes">Showtimes</a></li>
        <li><a href="/movies">Movies</a></li>
      </ul>
    </nav>

    <h1>Movies</h1>

    <a href="/moviecreate" class="create-button">Create New</a>

    <h2>Movies from database:</h2>

    <table>
        <thead>
          <tr>
            <th>MovieID</th>
            <th>Title</th>
            <th>Release Date</th>
            <th>GenreID</th>
            <th>Director</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% for (var i = 0; i < movies.length; i++) { %>
            <tr>
              <td><%= movies[i].MovieID %></td>
              <td><%= movies[i].Title %></td>
              <td><%= movies[i].ReleaseDate %></td>
              <td><%= movies[i].GenreID %></td>
              <td><%= movies[i].Director %></td>
              <td class="actions">
                <form action="/editmovie" method="GET" style="display: inline;">
                  <input type="hidden" name="movieID" value="<%= movies[i]._id %>">
                
                <button type="submit">Edit</button>
              </form>
              <form action="/movieview/<%= movies[i]._id %>" method="GET" style="display: inline;">
                <button type="submit">View</button>
              </form>
              <button class="delete-button" data-movie-id="<%= movies[i]._id %>">Delete</button>
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>
<div id="message"></div>

<script src="/mainnn.js"></script>
  </body>
</html>